import{a as p}from"./axios-82afda87.js";import{_ as m,o as i,c as a,d as c,q as g,b as s,w as d,v as u,t as f,p as _,j as h}from"./index-4e547976.js";const v=p.create({baseURL:"http://pzi042023.studenti.sum.ba/backend"}),y={data(){return{formData:{username:"",email:"",password:"",location:""},errorMessage:"",registrationSuccess:!1}},methods:{async registerUser(){try{const e=await v.post("/api/register",this.formData);e.status===200||e.status===201?(console.log("Registration Successful"),this.registrationSuccess=!0):console.error("Unexpected Response Status:",e.status)}catch(e){e.response&&e.response.data?(console.error("Registration Error",e.response.data),this.errorMessage=e.response.data.error):(console.error("Registration Error",e.message),this.errorMessage="An unexpected error occurred during registration.")}},redirectToLogin(){this.$router.push("/login")}}},n=e=>(_("data-v-caf722a0"),e=e(),h(),e),b={class:"registration-form"},w={key:0},D={class:"form-group"},x=n(()=>s("label",{for:"username"},"Username:",-1)),S={class:"form-group"},U=n(()=>s("label",{for:"email"},"Email:",-1)),R={class:"form-group"},k=n(()=>s("label",{for:"password"},"Password:",-1)),M={class:"form-group"},L=n(()=>s("label",{for:"location"},"Location:",-1)),V=n(()=>s("button",{type:"submit"},"Register",-1)),q={key:0,class:"error-message"};function I(e,r,E,T,o,l){return i(),a("div",b,[o.registrationSuccess?c("",!0):(i(),a("h2",w,"Register")),o.registrationSuccess?(i(),a("button",{key:2,onClick:r[5]||(r[5]=(...t)=>l.redirectToLogin&&l.redirectToLogin(...t)),class:"redirect-button"},"Continue to Login")):(i(),a("form",{key:1,onSubmit:r[4]||(r[4]=g((...t)=>l.registerUser&&l.registerUser(...t),["prevent"]))},[s("div",D,[x,d(s("input",{type:"text",id:"username","onUpdate:modelValue":r[0]||(r[0]=t=>o.formData.username=t),required:""},null,512),[[u,o.formData.username]])]),s("div",S,[U,d(s("input",{type:"email",id:"email","onUpdate:modelValue":r[1]||(r[1]=t=>o.formData.email=t),required:""},null,512),[[u,o.formData.email]])]),s("div",R,[k,d(s("input",{type:"password",id:"password","onUpdate:modelValue":r[2]||(r[2]=t=>o.formData.password=t),required:""},null,512),[[u,o.formData.password]])]),s("div",M,[L,d(s("input",{type:"text",id:"location","onUpdate:modelValue":r[3]||(r[3]=t=>o.formData.location=t),required:""},null,512),[[u,o.formData.location]])]),V,o.errorMessage?(i(),a("div",q,f(o.errorMessage),1)):c("",!0)],32))])}const F=m(y,[["render",I],["__scopeId","data-v-caf722a0"]]);export{F as default};
