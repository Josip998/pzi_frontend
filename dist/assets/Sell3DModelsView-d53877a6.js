import{a as u}from"./axios-82afda87.js";import{_ as m,o as a,c as p,b as o,q as _,w as d,v as n,p as g,j as h}from"./index-4e547976.js";const f={data(){return{isLoggedIn:!!localStorage.getItem("token"),user_id:null,order:{name:"",description:"",imageUrl:"",price:"",size:""},user_id:8}},methods:{onFileChange(r){const e=r.target.files[0];e&&(this.order.imageUrl=e)},submitCustomOrder(){const r=new FormData;r.append("name",this.order.name),r.append("description",this.order.description),r.append("image",this.order.imageUrl),r.append("price",this.order.price),r.append("size",this.order.size);for(const[e,c]of r.entries())console.log(e,c);u.post(`http://pzi042023.studenti.sum.ba/backend/api/user/${this.user_id}/resource`,r,{headers:{"Content-Type":"multipart/form-data",Authorization:"Bearer "+localStorage.getItem("token")}}).then(e=>{alert("New model added successfully"),this.order={name:"",description:"",imageUrl:"",price:"",size:""}}).catch(e=>{console.error("Error adding new model:",e)})}}},l=r=>(g("data-v-7196dfa1"),r=r(),h(),r),v={class:"custom"},b={class:"custom-3d-models"},y={key:0},z=l(()=>o("h1",null,"Add a 3D Model:",-1)),M={class:"form-group"},U=l(()=>o("label",{for:"imageUrl"},"Image (JPEG or PNG)",-1)),w={class:"form-group"},x={class:"form-group"},I={class:"form-group"},S={class:"form-group"},k=l(()=>o("button",{type:"submit",class:"submit-button"},"Add Model",-1)),C={key:1},D=l(()=>o("h3",null,"You are not logged in.",-1)),V=[D];function q(r,e,c,F,t,i){return a(),p("div",v,[o("div",b,[t.isLoggedIn?(a(),p("div",y,[z,o("div",M,[U,o("input",{type:"file",id:"imageUrl",accept:"image/jpeg, image/png",onChange:e[0]||(e[0]=(...s)=>i.onFileChange&&i.onFileChange(...s)),required:""},null,32)]),o("form",{onSubmit:e[5]||(e[5]=_((...s)=>i.submitCustomOrder&&i.submitCustomOrder(...s),["prevent"])),class:"custom-order-form"},[o("div",w,[d(o("input",{type:"text",id:"name",placeholder:"Model Name","onUpdate:modelValue":e[1]||(e[1]=s=>t.order.name=s),required:""},null,512),[[n,t.order.name]])]),o("div",x,[d(o("textarea",{id:"description",placeholder:"Model Description","onUpdate:modelValue":e[2]||(e[2]=s=>t.order.description=s),required:""},null,512),[[n,t.order.description]])]),o("div",I,[d(o("input",{type:"decimal",id:"price",placeholder:"Model Price","onUpdate:modelValue":e[3]||(e[3]=s=>t.order.price=s),required:""},null,512),[[n,t.order.price]])]),o("div",S,[d(o("input",{type:"text",id:"size",placeholder:"Model Size","onUpdate:modelValue":e[4]||(e[4]=s=>t.order.size=s),required:""},null,512),[[n,t.order.size]])]),k],32)])):(a(),p("div",C,V))])])}const A=m(f,[["render",q],["__scopeId","data-v-7196dfa1"]]);export{A as default};
